# vetis.api #

1С доступ к ГИС Меркурий через Ветис.API http://api.vetrf.ru

Код основан на исходниках:
- http://infostart.ru/public/560823/
- http://vetrf.ru/vetrf-forum/posts/list/6955.page

Версии:
- Ветис.API: v1.4, 2.0
- 1C: v8.3.10

## Особенности ##

Код для доступа к Ветис.API:
- независит от конфигурации
- расположен в общих модулях (имена соответствуют пространствам имен Ветис.API)
- используется только часть API для оптовой торговли замороженным мясом (не будет производства, живых животных, молока и пр.)

Код привязанный к метаданным 1С:
- ориентирован на УТ 10.3
- конвертация значений находится в общих модулях (имена соответствуют пространствам имен Ветис.API с суффиксом "Слой1с")

Метаданные:
- могут использоваться как самостоятельная конфигурация (как вариант конвертацией из основной базы выгрузить справочники)
- для упрощения сопоставления типов при объединении, используются определяемые типы
 (в УТ 10.3 режим совместимости надо установить 8.3.3 или выше, либо поменять типы реквизитов 
- реквизиты ВСД сгруппированы в табличные части (для наглядности), в ТЧ всегда одна строка
- соответствие номенклатуры хранится на уровне ВСД (пока нет четкого понимания как лучше сделать)
- рн ВетисСкладскойЖурнал по измерениям также еще нет понимания как лучше

 Справочники (<в метаданных> - <в Ветис.API> - <типовая УТ 10.3>):
- Контрагенты - BusinessEntity - Контрагенты;
- ВетисПредприятия - Enterprise - это некоторый аналог справочника Склады, но на складах может быть несколько организация, т.е., скорее всего, это отдельный справочник;
- ВетисPackingForm - PackingForm - возможно как то можно использовать ЕдиницыИзмерения, но, скорее всего, это отдельный справочник;
- ВетисPurpose - Purpose - отдельный;
- КлассификаторЕдиницИзмерения - Unit - КлассификаторЕдиницИзмерения;
- КлассификаторСтранМира - ВетисCountry - КлассификаторСтранМира;
- НоменклатурныеГруппы - SubProduct - близок к типовому НоменклатурныеГруппы;
- Номенклатура - ProductItem - близок к типовому Номенклатура;
- Транспорт - Transport - скорее всего, это отдельный справочник;
- Пользователи - User - Пользователи

Для всех справочников соответствие хранится в регистре сведений ВетисСоответствие.
Настривается через обработку ВетисУстановкаСоответствияСправочников.

## Лицензия ##

Данное программное обеспечение распространяется на условиях GNU General Public License v3.0.
