
Функция VetDocument(name, articul, code) Экспорт
	
	_Фабрика = Фабрика();
	
	_Объект = _Фабрика.Создать(URI(), "VetDocument");
	
	_Объект.cargoInspected = Истина;// Осуществлен контроль гос.ветврачом на соответствие требованиям.
	_Объект.cargoExpertized = Ложь;// Проводилась ли ветсанэкспертиза.
	
	Возврат _Объект;
	
КонецФункции

// Тип, описывающий поставку.
Функция Delivery(name, articul, code) Экспорт
	
	_Фабрика = Фабрика();
	
	_Объект = _Фабрика.Создать(URI(), "Delivery");
	
	_Объект.deliveryDate = 1;//	Дата поставки.
	_Объект.consignor = ВетисCerberusEnterprise.BusinessMember(1,1);// Сведения об отправителе (владельце).
	_Объект.consignee = ВетисCerberusEnterprise.BusinessMember(1,1);// Сведения о получателе груза.
	_Объект.consignment = Consignment(name, articul, code);// Сведения о транспортной партии.
	_Объект.accompanyingForms = "";// Сопроводительные документы.
	
	Возврат _Объект;
	
КонецФункции

// Тип, описывающий контроль поставки (документарный, ветеринарный).
Функция ConsignmentDocumentList(waybill) Экспорт
	
	_Фабрика = Фабрика();
	
	_Объект = _Фабрика.Создать(URI(), "ConsignmentDocumentList");
	
	_Объект.waybill = waybill;// Сведения о товарно-транспортной накладной.
	_Объект.VetDocument = 1;// Ветеринарно-сопроводительный документ (ВСД).
	
	Возврат _Объект;
	
КонецФункции

// Тип, описывающий транспортную партию груза.
Функция Consignment(name, articul, code, productType = 1) Экспорт
	
	_Фабрика = Фабрика();
	
	_Объект = _Фабрика.Создать(URI(), "Consignment");
	
	_Объект.productName = name;//	Наименование продукции в соответствии с оформленной товарной накладной.
	_Объект.productCode = articul;// Артикул (код) продукции в соответствии с оформленной товарной накладной.
	_Объект.sourceStockEntry = StockEntry(name, code, productType);// Запись журнала, из которой формируется транспортная партия.
	
	//_Объект.id = "";// Идентификатор, определяющий consignment в запросе. Должен быть указан, если запрос содержит несколько элементов consignment.
	//_Объект.partOf = "";// Ссылка на consignment в разделе delivery запроса. Должен быть указан, если запрос содержит несколько элементов consignment.
	
	Возврат _Объект;
	
КонецФункции

// Тип, описывающий cведения о записи журнала продукции.
Функция StockEntry(name, code, productType = 1) Экспорт
	
	_Фабрика = Фабрика();
	
	_Объект = _Фабрика.Создать(URI(), "StockEntry");
	
	_Объект.batch = productType;// Тип продукции.
	_Объект.vetDocument = ВетисArgusProduction.Product(name, code, productType);// Продукция.
	
	Возврат _Объект;
	
КонецФункции

Функция StockEntry_guid(guid) Экспорт
	
	_Фабрика = Фабрика();
	
	_Объект = _Фабрика.Создать(URI(), "StockEntry");
	
	_Объект.guid = guid;
	
	Возврат _Объект;
	
КонецФункции

// Тип, описывающий дату производства, либо дату окончания срока годности продукции.
// Может указываться единичной датой, интервалом, либо строкой.
Функция GoodsDate(firstDate, secondDate = Неопределено) Экспорт
	
	_Фабрика = Фабрика();
	
	_Объект = _Фабрика.Создать(URI(), "GoodsDate");
	
	Если ТипЗнч(firstDate) = Тип("Дата") Тогда
		_Объект.firstDate = ВетисBase.ComplexDate(firstDate);
	Иначе
		_Объект.informalDate = firstDate;
	КонецЕсли;
	
	Если secondDate = Неопределено Тогда
		_Объект.secondDate = secondDate;
	КонецЕсли;
	
	Возврат _Объект;
	
КонецФункции

// Тип, описывающий партию груза.
Функция Batch(name, code, volume, productType = 1) Экспорт
	
	_Фабрика = Фабрика();
	
	_Объект = _Фабрика.Создать(URI(), "Batch");
	
	_Объект.productType      = productType;// Тип продукции.
	_Объект.product          = ВетисArgusProduction.Product(name, code, productType);// Продукция.
	//_Объект.subProduct       = ВетисArgusProduction.SubProduct(name, code, "");// Вид продукции.
	//_Объект.productItem      = ВетисArgusProduction.ProductItem(name, code, productType);// Наименование произведенной продукции в номенклатуре производителя.
	_Объект.volume           = volume;// Объем произведенной продукции. Значение должно быть больше нуля.
	_Объект.unit             = ВетисArgusCommon.Unit("кг");// Единица измерения объема произведенной продукции.
	//_Объект.packingList      = ВетисArgusCommon.PackingFormList();// Список видов упаковки, которые используются для производственной партии.
	_Объект.packingAmount    = 0;// Общее количество единиц упаковки для производственной партии.
	_Объект.dateOfProduction = GoodsDate(ТекущаяДата());// Дата выработки продукции.
	_Объект.expiryDate       = GoodsDate(ДобавитьМесяц(ТекущаяДата(), 12));// Дата окончания срока годности продукции.
	_Объект.perishable       = false;// Описывает, является ли продукция скоропортящейся, true – скоропортящаяся, false – не скоропортящаяся.
	//_Объект.countryOfOrigin  = 1;// Страна происхождения продукции.
	//_Объект.producerList     = 1;// Список производителей продукции.
	//_Объект.productMarkingList = 1;// Список маркировки продукции, доступной для данного производителя.
	//_Объект.lowGradeCargo    = 1;// Является ли продукция некачественной.
	//_Объект.owner            = 1;// Собственник продукции.

	Возврат _Объект;
	
КонецФункции

Функция URI()
	
	Возврат "http://api.vetrf.ru/schema/cdm/mercury/vet-document";
	
КонецФункции

Функция Фабрика()
	
	Пакеты = Новый Массив;  
	Пакеты.Добавить(ФабрикаXDTO.Пакеты.Получить(URI()));
	
	Возврат Новый ФабрикаXDTO(, Пакеты);
	
КонецФункции
