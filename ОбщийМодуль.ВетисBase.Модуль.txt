
// тип, описывающий параметры запрашиваемого у сервиса списка объектов
Функция ListOptions(count = 100) Экспорт
	
	_Фабрика = Фабрика();
	
	_Объект = _Фабрика.Создать(URI(), "ListOptions");
	
	_Объект.count = count;
	_Объект.offset = 0;
	
	Возврат _Объект;
	
КонецФункции

// тип, описывающий дату и время
Функция ComplexDate(пДата) Экспорт
	
	Если ТипЗнч(пДата) = Тип("Дата") Тогда
		_Фабрика = Фабрика();
		
		_Объект = _Фабрика.Создать(URI(), "ComplexDate");
		
		_Объект.year  = Формат(Год(пДата), "ЧГ=");
		_Объект.month = Формат(Месяц(пДата),"ЧЦ=2; ЧВН=");
		_Объект.day   = Формат(День(пДата),"ЧЦ=2; ЧВН=");
		_Объект.hour  = "00";
	Иначе
		_свойства = пДата.Свойства();
		_гггг = ?(_свойства.Получить("year") = Неопределено, 1, Число(пДата.year));
		_мм = ?(_свойства.Получить("month") = Неопределено, 1, Число(пДата.month));
		_дд = ?(_свойства.Получить("day") = Неопределено, 1, Число(пДата.day));
		_Объект = Дата(_гггг, _мм, _дд);
	КонецЕсли;
	
	Возврат _Объект;
	
КонецФункции

Функция DataInterval(beginDate, endDate) Экспорт
	
	_Фабрика = Фабрика();
	
	_Объект = _Фабрика.Создать(URI(), "DataInterval");
	
	Возврат _Объект;
	
КонецФункции

Функция RegisterModificationType_CREATE() Экспорт
	
	Возврат "CREATE";
	
КонецФункции

Функция RegisterModificationType_FIND_OR_CREATE() Экспорт
	
	Возврат "FIND_OR_CREATE";
	
КонецФункции

Функция RegisterModificationType_UPDATE() Экспорт
	
	Возврат "UPDATE";
	
КонецФункции

Функция RegisterModificationType_DELETE() Экспорт
	
	Возврат "DELETE";
	
КонецФункции

Функция RegisterModificationType_MERGE() Экспорт
	
	Возврат "MERGE";
	
КонецФункции

Функция RegisterModificationType_ATTACH() Экспорт
	
	Возврат "ATTACH";
	
КонецФункции

Функция RegisterModificationType_SPLIT() Экспорт
	
	Возврат "SPLIT";
	
КонецФункции

Функция RegisterModificationType_() Экспорт
	
	Возврат "FORK";
	
КонецФункции


Функция URI() Экспорт
	
	Возврат "http://api.vetrf.ru/schema/cdm/base";
	
КонецФункции

Функция Фабрика()
	
	Пакеты = Новый Массив;  
	Пакеты.Добавить(ФабрикаXDTO.Пакеты.Получить(URI()));
	
	Возврат Новый ФабрикаXDTO(, Пакеты);
	
КонецФункции
