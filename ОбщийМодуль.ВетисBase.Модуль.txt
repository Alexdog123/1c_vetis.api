
// тип, описывающий параметры запрашиваемого у сервиса списка объектов
Функция ListOptions(count = 100, offset = 0) Экспорт
	
	_Объект = ФабрикаXDTO.Создать(ФабрикаXDTO.Тип(URI(), "ListOptions"));
	
	_Объект.count = count;
	_Объект.offset = offset;
	
	Возврат _Объект;
	
КонецФункции

// тип, описывающий дату и время
// преобразует дату 1с в xd и обратно
Функция ComplexDate(пДата) Экспорт
	
	Если ТипЗнч(пДата) = Тип("Дата") Тогда
		
		_Объект = ФабрикаXDTO.Создать(ФабрикаXDTO.Тип(URI(), "ComplexDate"));
		
		_Объект.year  = Формат(Год(пДата), "ЧГ=");
		_Объект.month = Формат(Месяц(пДата),"ЧЦ=2; ЧВН=");
		_Объект.day   = Формат(День(пДата),"ЧЦ=2; ЧВН=");
		_Объект.hour  = "00";
	Иначе
		_свойства = пДата.Свойства();
		_гггг = ?(_свойства.Получить("year") = Неопределено, 1, Число(пДата.year));
		_мм = ?(_свойства.Получить("month") = Неопределено, 1, Число(пДата.month));
		_дд = ?(_свойства.Получить("day") = Неопределено, 1, Число(пДата.day));
		_Объект = Дата(_гггг, _мм, _дд);
	КонецЕсли;
	
	Возврат _Объект;
	
КонецФункции

Функция DataInterval(beginDate, endDate) Экспорт
	
	_Объект = ФабрикаXDTO.Создать(ФабрикаXDTO.Тип(URI(), "DataInterval"));
	
	_Объект.beginDate = ВетисОбщегоНазначения.XMLДатаВремя(beginDate);
	_Объект.endDate   = ВетисОбщегоНазначения.XMLДатаВремя(endDate);
	
	Возврат _Объект;
	
КонецФункции


Функция RegisterModificationType_CREATE() Экспорт
	
	Возврат "CREATE";
	
КонецФункции

Функция RegisterModificationType_FIND_OR_CREATE() Экспорт
	
	Возврат "FIND_OR_CREATE";
	
КонецФункции

Функция RegisterModificationType_UPDATE() Экспорт
	
	Возврат "UPDATE";
	
КонецФункции

Функция RegisterModificationType_DELETE() Экспорт
	
	Возврат "DELETE";
	
КонецФункции

Функция RegisterModificationType_MERGE() Экспорт
	
	Возврат "MERGE";
	
КонецФункции

Функция RegisterModificationType_ATTACH() Экспорт
	
	Возврат "ATTACH";
	
КонецФункции

Функция RegisterModificationType_SPLIT() Экспорт
	
	Возврат "SPLIT";
	
КонецФункции

Функция RegisterModificationType_FORK() Экспорт
	
	Возврат "FORK";
	
КонецФункции


Функция URI() Экспорт
	
	Возврат "http://api.vetrf.ru/schema/cdm/base";
	
КонецФункции

