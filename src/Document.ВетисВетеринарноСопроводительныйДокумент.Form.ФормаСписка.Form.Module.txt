
&НаКлиенте
Процедура Синхронизировать(Команда)
	
	ВетисMercuryVetdocumentСлой1с.Синхронизировать();
	
	Элементы.Список.Обновить();
	
КонецПроцедуры

&НаКлиенте
Процедура Аннулировать(Команда)
	
	_ТекущиеДанные = Элементы.Список.ТекущиеДанные;
	
	Если _ТекущиеДанные = Неопределено Тогда
		Возврат;
	КонецЕсли;
	
	_Причина = "";
	
	Если НЕ ВвестиСтроку(_Причина, "Причина аннулирования " + _ТекущиеДанные.Ссылка) Тогда
		Возврат;
	КонецЕсли;
	
	ВетисMercuryVetdocumentСлой1с.Аннулировать(_ТекущиеДанные.Ссылка, _Причина);
	
	Элементы.Список.Обновить();
	
КонецПроцедуры

&НаКлиенте
Процедура СписокПриАктивизацииСтроки(Элемент)
	
	_ТекущиеДанные = Элементы.Список.ТекущиеДанные;
	
	Если _ТекущиеДанные = Неопределено Тогда
		Возврат;
	КонецЕсли;
	
	Элементы.ФормаАннулировать.Доступность =  ЗначениеЗаполнено(_ТекущиеДанные.uuid)
		И _ТекущиеДанные.Тип = ПредопределенноеЗначение("Перечисление.ВетисVetDocumentType.Транспортный")
		И _ТекущиеДанные.Статус = ПредопределенноеЗначение("Перечисление.ВетисVetDocumentStatus.Оформлен");
	
	
КонецПроцедуры

&НаКлиенте
Процедура УдалитьПомеченные(Команда)
	
	ВетисMercuryVetdocumentСлой1с.УдалитьПомеченные();
	
	Элементы.Список.Обновить();
	
КонецПроцедуры
