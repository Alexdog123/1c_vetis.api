
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	#Если МобильноеПриложениеСервер Тогда
		Элементы.СписокНастройкиХСКомандаОсновнойХС.Видимость = Ложь;
	#КонецЕсли
	
	ВерсияAPI = ВетисXSD.Версия();
	
	Тестовый = ВетисXSD.Тестовый();
	
	Отладка = ВетисОбщегоНазначения.РазрешенаОтладка();
	
	ОсновнойХС = ВетисХозяйственныеОперации.ОсновнойХС();
	
	НастроитьУФ(ОсновнойХС);
	
КонецПроцедуры

&НаСервере
Процедура КомандаГотовоНаСервере()
	
	ВетисXSD.ТестовыйУстановить(Тестовый);
	
	ВетисXSD.ВерсияУстановить(ВерсияAPI);
	
	ВетисОбщегоНазначения.РазрешенаОтладка(Отладка);
	
	ВетисXSD.Инициализировать();
	
	ВетисХозяйственныеОперации.ОсновнойХС(ОсновнойХС);
	
	ВетисПараметрыСоединения.ИнициализироватьНастройкиХС();
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаГотово(Команда)
	
	КомандаГотовоНаСервере();
	
	Оповестить("ВетисВерсия", "Настройки");
	
	Оповестить("ВетисОтладка", "Настройки");
	
	Оповестить("ВетисТестовый", "Настройки");
	
	Закрыть();
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаОсновнойХС(Команда)
	
	ОсновнойХС = Элементы.СписокНастройкиХС.ТекущиеДанные.ХозяйствующийСубъект;
	
	НастроитьУФ(ОсновнойХС);
	
	Элементы.СписокНастройкиХС.Обновить();
	
КонецПроцедуры

&НаСервере
Процедура НастроитьУФ(ТекЭлемент)
	
	ЭтаФорма.УсловноеОформление.Элементы[0].Отбор.Элементы[0].ПравоеЗначение = ТекЭлемент;
	
КонецПроцедуры
