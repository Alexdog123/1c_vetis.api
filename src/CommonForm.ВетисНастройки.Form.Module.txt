
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	ВерсияAPI = ВетисXSD.Версия();
	
	Тестовый = ВетисXSD.Тестовый();
	
	Отладка = ВетисОбщегоНазначения.РазрешенаОтладка();
	
КонецПроцедуры

&НаСервере
Процедура КомандаГотовоНаСервере()
	
	ВетисXSD.ТестовыйУстановить(Тестовый);
	
	ВетисXSD.ВерсияУстановить(ВерсияAPI);
	
	ВетисОбщегоНазначения.РазрешенаОтладка(Отладка);
	
	ВетисXSD.Инициализировать();
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаГотово(Команда)
	
	КомандаГотовоНаСервере();
	
	Оповестить("ВетисВерсия", "Настройки");
	
	Оповестить("ВетисОтладка", "Настройки");
	
	Закрыть();
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаОсновнойХС(Команда)
	
	ВетисПредприятияХС.ОсновнойХС(Элементы.СписокНастройкиХС.ТекущиеДанные.ХозяйствующийСубъект);
	
	ВетисПараметрыСоединения.ИнициализироватьНастройкиХС();
	
	Элементы.СписокНастройкиХС.Обновить();
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаПривязатьХСПредприятие(Команда)
	
	ТекущиеДанные = Элементы.СписокПредприятия.ТекущиеДанные;
	
	ВетисПредприятияХС.ПривязатьХСПредприятие(ТекущиеДанные.ХозяйствующийСубъект, ТекущиеДанные.Предприятие, ТекущиеДанные.ВСервисе);
	
	ВетисПредприятияХС.ОбновитьСвязиХСПредприятие();
	
	Элементы.СписокПредприятия.Обновить();
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаОбновитьХСПредприятие(Команда)
	
	ВетисПредприятияХС.ОбновитьСвязиХСПредприятие();
	
	Элементы.СписокПредприятия.Обновить();
	
КонецПроцедуры
