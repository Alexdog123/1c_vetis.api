
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	ВерсияAPI = ВетисОбщегоНазначения.Версия();
	
	Тестовый = Константы.ВетисТестовый.Получить();
	
	Отладка = ВетисОбщегоНазначения.РазрешенаОтладка();
	
КонецПроцедуры

&НаСервере
Процедура КомандаГотовоНаСервере()
	
	Константы.ВетисТестовый.Установить(Тестовый);
	
	ВетисОбщегоНазначения.ВерсияУстановить(ВерсияAPI);
	
	ВетисОбщегоНазначения.РазрешенаОтладка(Отладка);
	
	ВетисПараметрыСоединения.Инициализировать();
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаГотово(Команда)
	
	КомандаГотовоНаСервере();
	
	Оповестить("ВетисВерсия");
	
	Оповестить("ВетисОтладка");
	
	Закрыть();
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаОсновнойХС(Команда)
	
	УстановитьОсновнойХС();
	
	Элементы.СписокНастройкиХС.Обновить();
	
КонецПроцедуры

Процедура УстановитьОсновнойХС() Экспорт
	
	_ХозяйствующийСубъект = Элементы.СписокНастройкиХС.ТекущаяСтрока.ХозяйствующийСубъект;
	
	Константы.ВетисОсновнойХС.Установить(_ХозяйствующийСубъект);
	
	ВетисПараметрыСоединения.ИнициализироватьНастройкиХС(_ХозяйствующийСубъект);
	
КонецПроцедуры
