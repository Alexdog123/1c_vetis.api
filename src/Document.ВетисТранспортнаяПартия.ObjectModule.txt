
Процедура ПриКопировании(ОбъектКопирования)
	
	Товары.Очистить();
	
	Упаковка.Очистить();
	
	Маркировка.Очистить();
	
	Партии.Очистить();
	
	_всд = ?(ВСД.Количество() = 0, ВСД.Добавить(), ВСД[0]);
	
	_ттн = ?(ТТН.Количество() = 0, ТТН.Добавить(), ТТН[0]);
	_ттн.Серия = "";
	_ттн.Номер = "";
	_ттн.Дата = ТекущаяДата();
	
КонецПроцедуры

Процедура ОбработкаЗаполнения(ДанныеЗаполнения, ТекстЗаполнения, СтандартнаяОбработка)
	
	_всд = ВСД.Добавить();
	
	_всд.НазначениеГруза = Ветис.Предопределенные_Получить("Purpose.Перемещение");
	
	_всд.БлагополучиеМестности = "Благополучна";
	
	_ттн = ТТН.Добавить();
	
	_ттн.СпособХранения = ПредопределенноеЗначение("Перечисление.ВетисTransportStorageType.Замороженные");
	
	_ттн.Тип = ПредопределенноеЗначение("Перечисление.ВетисDocumentType.ТовароТранспортнаяНакладная");
	
КонецПроцедуры

Процедура ОбработкаПроведения(Отказ, РежимПроведения)
	
	//Запрос = Новый Запрос;
	//Запрос.Текст =
	//"ВЫБРАТЬ
	//|	_Таблица.ВСД.guid КАК guid,
	//|	_Таблица.Ссылка.Дата КАК Период,
	//|	_Таблица.ВСД КАК ВСД,
	//|	_Таблица.НоменклатурнаяГруппа КАК НоменклатурнаяГруппа,
	//|	_Таблица.SubProductGuid КАК SubProductGuid,
	//|	_Таблица.Номенклатура КАК Номенклатура,
	//|	_Таблица.ProductItemGuid КАК ProductItemGuid,
	//|	_Таблица.Количество КАК Количество,
	//|	_Таблица.КоличествоМест КАК КоличествоМест,
	//|	_Таблица.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
	//|	_Таблица.Упаковка КАК Упаковка
	//|ИЗ
	//|	Документ.ВетисТранспортнаяПартия.Партии КАК _Таблица
	//|ГДЕ
	//|	_Таблица.Ссылка = &Ссылка";
	//
	//Запрос.УстановитьПараметр("Ссылка", Ссылка);
	//
	//Выборка = Запрос.Выполнить().Выбрать();
	//
	//НаборДвижений = Движения.ВетисСкладскойЖурнал;
	//
	//НаборДвижений.Записывать = Истина;
	//
	//Пока Выборка.Следующий() Цикл
	//	НаборДвиженийСтрока = НаборДвижений.Добавить();
	//	НаборДвиженийСтрока.ВидДвижения = ВидДвиженияНакопления.Расход;
	//	ЗаполнитьЗначенияСвойств(НаборДвиженийСтрока, Выборка);
	//КонецЦикла;
	
КонецПроцедуры
