
Процедура ПриКопировании(ОбъектКопирования)
	
	uuid = Неопределено;
	
	//ДатаОбновления = Неопределено;
	СерияВСД = Неопределено;
	НомерВСД = Неопределено;
	ДатаВСД = Неопределено;
	Статус = Неопределено;
	Тип = Неопределено;
	
	ТТН[0].Серия = Неопределено;
	ТТН[0].Номер = Неопределено;
	ТТН[0].Дата = Неопределено;
	
КонецПроцедуры

Процедура ОбработкаЗаполнения(ДанныеЗаполнения, ТекстЗаполнения, СтандартнаяОбработка)
	
	//v1.4
	_строкаВСД = ВСД.Добавить();
	
	_строкаВСД.НазначениеГруза = ВетисПредопределенные.Получить("Purpose.Гашение");
	
	//v2.0
	_строкаВСД = РезультатыОсмотра.Добавить();
	
	_строкаВСД.НазначениеГруза = ВетисПредопределенные.Получить("Purpose.Гашение");
	
	_строкаТТН = ТТН.Добавить();
	
	_строкаТТН.СпособХранения = ПредопределенноеЗначение("Перечисление.ВетисTransportStorageType.Замороженные");
	
	_строкаТТН.Тип = ПредопределенноеЗначение("Перечисление.ВетисDocumentType.ТовароТранспортнаяНакладная");
	
КонецПроцедуры

Процедура ПередЗаписью(Отказ, РежимЗаписи, РежимПроведения)
	
	Если ОбменДанными.Загрузка Тогда
		Возврат;
	КонецЕсли;
	
	Если НЕ ДополнительныеСвойства.Свойство("Загрузка") И ЗначениеЗаполнено(Статус) И НЕ ВетисОбщегоНазначения.РазрешенаОтладка() Тогда
		Отказ = Истина;
	КонецЕсли;
	
	Если Товары.Количество() = 1 Тогда
		НоменклатурнаяГруппа = Товары[0].НоменклатурнаяГруппа;
		Номенклатура = Товары[0].Номенклатура;
		Количество   = Товары[0].Количество;
	КонецЕсли;
	
КонецПроцедуры

Процедура ПриЗаписи(Отказ)
	
	Если Товары.Количество() = 1 И ЗначениеЗаполнено(Товары[0].Номенклатура) Тогда
		ВетисСоответствие.ДобавитьProductItem(Товары[0].Номенклатура, Товары[0].ПроизводительПредприятие, Товары[0].ProductItemGuid, Товары[0].ProductItemName);
	КонецЕсли;
	
КонецПроцедуры

Процедура ОбработкаПроведения(Отказ, РежимПроведения)
	
КонецПроцедуры
