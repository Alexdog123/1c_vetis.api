
&НаСервере
Процедура КомандаПраваПользователяНаСервере(пЛогин)
	
	Перем _user, _параметры;
	
	_issuerId = Ветис.issuerId(Элементы.СписокПользователей.ТекущаяСтрока.ХозяйствующийСубъект);
	
	//пока только ошибки, запросы совпадают с примерами
	
	//2017-11-16
	//APLM0002 - Unsupported application data format
	_user = ВетисMercuryApplications_2_0.GetBusinessEntityUser(ВетисMercuryVetdocument_2_0.User(пЛогин), _issuerId);
	
	//2017-11-16
	//APLM0002 - Unsupported application data format
	_параметры = Неопределено;
	Пока ВетисMercuryApplications_2_0.GetBusinessEntityUserListСледующий(_issuerId, _user, _параметры) Цикл
		//
	КонецЦикла;
	
	//2017-11-16
	//APLM0002 - Unsupported application data format
	_параметры = Неопределено;
	Если Ветис.Настройки_Тестовый() Тогда
		Пока ВетисMercuryApplications_2_0.GetAppliedUserAuthorityListСледующий(_issuerId, _user, _параметры) Цикл
			//
		КонецЦикла;
	Иначе
		Пока ВетисMercuryApplications_2_0.GetApplicableUserAuthorityListСледующий(_issuerId, _user, _параметры) Цикл
			//
		КонецЦикла;
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаПраваПользователя(Команда)
	
	Если Элементы.СписокПользователей.ТекущиеДанные = Неопределено Тогда
		Возврат;
	КонецЕсли;
	
	КомандаПраваПользователяНаСервере(Элементы.СписокПользователей.ТекущиеДанные.Логин);
	
КонецПроцедуры
