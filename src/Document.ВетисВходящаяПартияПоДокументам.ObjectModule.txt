
Процедура ПередЗаписью(Отказ, РежимЗаписи, РежимПроведения)
	
	Если ОбменДанными.Загрузка Тогда
		Возврат;
	КонецЕсли;
	
	Статус = Перечисления.ВетисVetDocumentStatus.Погашен;
	Для каждого _СтрокаТовары Из Товары Цикл
		Если НЕ _СтрокаТовары.Статус = Перечисления.ВетисVetDocumentStatus.Погашен Тогда
			Статус = _СтрокаТовары.Статус;
			Прервать;
		КонецЕсли;
	КонецЦикла;
	
КонецПроцедуры

Процедура ПриКопировании(ОбъектКопирования)
	
	Товары.Очистить();
	
	Упаковка.Очистить();
	
	Маркировка.Очистить();
	
	_ттн = ?(ТТН.Количество() = 0, ТТН.Добавить(), ТТН[0]);
	
	_ттн.Серия = "";
	_ттн.Номер = "";
	_ттн.Дата  = ТекущаяДата();
	
КонецПроцедуры

Процедура ОбработкаЗаполнения(ДанныеЗаполнения, ТекстЗаполнения, СтандартнаяОбработка)
	
	Получатель = Ветис.ТекущийХС();
	
	ПолучательПредприятие = Ветис.ТекущееПредприятие();
	
КонецПроцедуры

Процедура ОбработкаПроведения(Отказ, РежимПроведения)
	
КонецПроцедуры
