
Процедура BusinessEntityФормаВыбора(пФормаВладелец, пОписаниеОповещения, пСтандартнаяОбработка = Неопределено, пТекущееЗначение = Неопределено, пПараметры = Неопределено) Экспорт
	
	ОткрытьФормуВыбора(пФормаВладелец, "BusinessEntity", пОписаниеОповещения, пСтандартнаяОбработка, пТекущееЗначение, пПараметры);
	
КонецПроцедуры

Процедура EnterpriseФормаВыбора(пФормаВладелец, пОписаниеОповещения, пСтандартнаяОбработка = Неопределено, пХСПредприятие = Неопределено, пПараметры = Неопределено) Экспорт
	
	_Параметры = пПараметры;
	
	Если ТипЗнч(пХСПредприятие) = Тип(ВетисИмяСправочника.BusinessEntity("СправочникСсылка")) Тогда
		
		_Параметры = ?(_Параметры = Неопределено, Новый Структура, _Параметры);
		_Параметры.Вставить("ЗапросСоединения", "ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ВетисПредприятияХС КАК _ПредприятияХС ПО _Таблица.Ссылка = _ПредприятияХС.Предприятие");
		_Параметры.Вставить("ЗапросУсловия", "И _ПредприятияХС.ХозяйствующийСубъект = &ХС");
		_Параметры.Вставить("ЗапросПараметры", Новый Структура("ХС", пХСПредприятие));
		
		ОткрытьФормуВыбора(пФормаВладелец, "Enterprise", пОписаниеОповещения, пСтандартнаяОбработка, , _Параметры);
		
	Иначе//Если ТипЗнч(пХСПредприятие) = Тип(ВетисИмяСправочника.Enterprise("СправочникСсылка")) Тогда
		
		ОткрытьФормуВыбора(пФормаВладелец, "Enterprise", пОписаниеОповещения, пСтандартнаяОбработка, пХСПредприятие, _Параметры);
		
	КонецЕсли;
	
КонецПроцедуры

Процедура CountryФормаВыбора(пФормаВладелец, пОписаниеОповещения, пСтандартнаяОбработка = Неопределено, пТекущееЗначение = Неопределено, пПараметры = Неопределено) Экспорт
	
	ОткрытьФормуВыбора(пФормаВладелец, "Country", пОписаниеОповещения, пСтандартнаяОбработка, пТекущееЗначение, пПараметры);
	
КонецПроцедуры

Процедура ProductItemФормаВыбора(пФормаВладелец, пОписаниеОповещения, пСтандартнаяОбработка = Неопределено, пТекущееЗначение = Неопределено, пПараметры = Неопределено) Экспорт
	
	ОткрытьФормуВыбора(пФормаВладелец, "ProductItem", пОписаниеОповещения, пСтандартнаяОбработка, пТекущееЗначение, пПараметры);
	
КонецПроцедуры

Процедура AddressФормаВыбора(пФормаВладелец, пОписаниеОповещения, пСтандартнаяОбработка = Неопределено, пТекущееЗначение = Неопределено, пРодитель = Неопределено, пПараметры = Неопределено) Экспорт
	
	_Параметры = Новый Структура;
	
	Если НЕ пРодитель = Неопределено Тогда
		_Параметры.Вставить("Родитель", пРодитель);
	КонецЕсли;
	
	Если НЕ пПараметры = Неопределено Тогда
		Для каждого _элем Из пПараметры Цикл
			_Параметры.Вставить(_элем.Ключ, _элем.Значение);
		КонецЦикла;
	КонецЕсли;
	
	ОткрытьФормуВыбора(пФормаВладелец, "Address", пОписаниеОповещения = Неопределено, пСтандартнаяОбработка, пТекущееЗначение, _Параметры);
	
КонецПроцедуры

Процедура ОткрытьФормуВыбора(пФормаВладелец, пИмяСправочника, пОписаниеОповещения, пСтандартнаяОбработка, пТекущееЗначение = Неопределено, пПараметры = Неопределено)
	
	пСтандартнаяОбработка = Ложь;
	
	_Параметры = Новый Структура("Имя", пИмяСправочника);
	
	Если НЕ пТекущееЗначение = Неопределено Тогда
		_Параметры.Вставить("Ключ", пТекущееЗначение);
	КонецЕсли;
	
	Если НЕ пПараметры = Неопределено Тогда
		Для каждого _элем Из пПараметры Цикл
			_Параметры.Вставить(_элем.Ключ, _элем.Значение);
		КонецЦикла;
	КонецЕсли;
	
	Если пОписаниеОповещения = Неопределено Тогда
		//
	ИначеЕсли ТипЗнч(пОписаниеОповещения) = Тип("ОписаниеОповещения") Тогда
		_ОписаниеОповещения = пОписаниеОповещения;
	Иначе
		_ОписаниеОповещения = Новый ОписаниеОповещения(пОписаниеОповещения, пФормаВладелец, _Параметры);
	КонецЕсли;
	
	ОткрытьФорму("ОбщаяФорма.ВетисФормаВыбора", _Параметры, пФормаВладелец, , , , _ОписаниеОповещения);
	
КонецПроцедуры
